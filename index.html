<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="images/adress.png" type="image/png">
    <title data-i18n="site_title">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="navbar-brand">
                <img src="images/logo-tasks.png" alt="Logo" class="navbar-logo">
                <span data-i18n="site_title">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</span>
            </a>
            
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">â˜°</button>
            
            <ul class="navbar-menu">
                <li><a href="index.html" data-i18n="nav_home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="tasks.html" data-i18n="nav_tasks">Ø§Ù„Ù…Ù‡Ø§Ù…</a></li>
                <li><a href="reminders.html" data-i18n="nav_reminders">Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª</a></li>
                <li><a href="calendar.html" data-i18n="nav_calendar">Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</a></li>
                <li><a href="statistics.html" data-i18n="nav_statistics">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</a></li>
                <li><a href="tips.html" data-i18n="nav_tips">Ù†ØµØ§Ø¦Ø­</a></li>
                <li><button id="languageToggle" class="language-toggle" data-i18n="language_toggle">English</button></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1 data-i18n="home_hero_title">Ù†Ø¸Ù… Ø­ÙŠØ§ØªÙƒ Ø¨Ø°ÙƒØ§Ø¡</h1>
            <p data-i18n="home_hero_subtitle">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ³Ù‡Ù„Ø©</p>
            <a href="tasks.html" class="btn-primary" data-i18n="home_get_started">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</a>
        </div>
    </section>

    <!-- Dashboard -->
    <div class="container">
        <h2 class="mb-3" data-i18n="home_dashboard_title">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
        
        <!-- Stats Cards -->
        <div class="grid grid-4 mb-4">
            <div class="stats-card">
                <div class="stats-icon primary">ğŸ“‹</div>
                <div class="stats-content">
                    <h3 id="totalTasks">0</h3>
                    <p data-i18n="home_total_tasks">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù‡Ø§Ù…</p>
                </div>
            </div>
            
            <div class="stats-card">
                <div class="stats-icon success">âœ“</div>
                <div class="stats-content">
                    <h3 id="completedTasks">0</h3>
                    <p data-i18n="home_completed_tasks">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</p>
                </div>
            </div>
            
            <div class="stats-card">
                <div class="stats-icon warning">â³</div>
                <div class="stats-content">
                    <h3 id="pendingTasks">0</h3>
                    <p data-i18n="home_pending_tasks">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©</p>
                </div>
            </div>
            
            <div class="stats-card">
                <div class="stats-icon danger">ğŸ””</div>
                <div class="stats-content">
                    <h3 id="todayReminders">0</h3>
                    <p data-i18n="home_today_reminders">ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ…</p>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="card mb-4">
            <h3 class="card-title" data-i18n="home_quick_actions">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©</h3>
            <div class="flex gap-2">
                <a href="tasks.html" class="btn btn-success" data-i18n="home_add_task">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©</a>
                <a href="calendar.html" class="btn btn-warning" data-i18n="home_view_calendar">Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…</a>
                <a href="statistics.html" class="btn btn-secondary" data-i18n="home_check_stats">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</a>
            </div>
        </div>

        <!-- Recent Tasks -->
        <div class="card">
            <h3 class="card-title" data-i18n="home_recent_tasks">Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø£Ø®ÙŠØ±Ø©</h3>
            <div id="recentTasksList">
                <p class="text-center" style="color: var(--text-secondary);" data-i18n="home_no_tasks">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… Ø­Ø§Ù„ÙŠØ§Ù‹</p>
            </div>
        </div>
    </div>

    <script src="./translations.js"></script>
    <script src="./storage.js"></script>
    <script src="./script.js"></script>
    <script>
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function updateDashboardStats() {
            const stats = TaskStorage.getTaskStats();
            const todayReminders = ReminderStorage.getTodayReminders();
            
            document.getElementById('totalTasks').textContent = stats.total;
            document.getElementById('completedTasks').textContent = stats.completed;
            document.getElementById('pendingTasks').textContent = stats.pending;
            document.getElementById('todayReminders').textContent = todayReminders.length;
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø£Ø®ÙŠØ±Ø©
        function displayRecentTasks() {
            const tasks = TaskStorage.getAllTasks().slice(-5).reverse();
            const container = document.getElementById('recentTasksList');
            
            if (tasks.length === 0) {
                container.innerHTML = `<p class="text-center" style="color: var(--text-secondary);" data-i18n="home_no_tasks">${t('home_no_tasks')}</p>`;
                return;
            }
            
            container.innerHTML = tasks.map(task => `
                <div class="task-item ${task.completed ? 'completed' : ''}" style="margin-bottom: 1rem;">
                    <input type="checkbox" class="task-checkbox" ${task.completed ? 'checked' : ''} disabled>
                    <div class="task-content">
                        <div class="task-title">${task.title}</div>
                        <div class="task-meta">
                            <span class="badge badge-${getCategoryColor(task.category)}">${t('tasks_filter_' + task.category)}</span>
                            <span class="badge badge-${getPriorityColor(task.priority)}">${t('task_priority_' + task.priority)}</span>
                            ${task.dueDate ? `<span>ğŸ“… ${formatDate(task.dueDate)}</span>` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', () => {
            updateDashboardStats();
            displayRecentTasks();
        });
    </script>
</body>

</html>